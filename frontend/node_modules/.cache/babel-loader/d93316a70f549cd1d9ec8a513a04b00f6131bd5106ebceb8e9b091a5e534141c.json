{"ast":null,"code":"import{useState,useEffect}from\"react\";import{FaSignOutAlt,FaUserCircle}from\"react-icons/fa\";import{useAuth}from\"../context/AuthContext\";import{useNavigate,Link}from\"react-router-dom\";import Swal from\"sweetalert2\";import\"../styles/NavbarAdmin.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";/*#__PURE__*/_jsx(\"script\",{src:\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\",integrity:\"sha384-...\",crossorigin:\"anonymous\"});const NavbarAdmin=()=>{const{token,logout}=useAuth();const[username,setUsername]=useState(\"\");const navigate=useNavigate();useEffect(()=>{if(!token){navigate(\"/login\");return;}fetch(\"http://localhost:5001/auth/user\",{headers:{Authorization:`Bearer ${token}`}}).then(res=>res.json()).then(data=>setUsername(data.username)).catch(()=>Swal.fire(\"Error\",\"No se pudo obtener el usuario\",\"error\"));},[token,navigate]);const handleLogout=()=>{Swal.fire({title:\"¿Cerrar sesión?\",icon:\"warning\",showCancelButton:true,confirmButtonText:\"Sí, salir\",cancelButtonText:\"Cancelar\"}).then(result=>{if(result.isConfirmed){logout();navigate(\"/login\");}});};return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-admin mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center text-white gap-2\",children:[/*#__PURE__*/_jsx(FaUserCircle,{size:24}),/*#__PURE__*/_jsxs(\"strong\",{className:\"username\",children:[\"Hola, \",username]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler text-white border-white\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarAdminCollapse\",\"aria-controls\":\"navbarAdminCollapse\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse justify-content-end\",id:\"navbarAdminCollapse\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column flex-lg-row gap-2 mt-3 mt-lg-0\",children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/tareas\",className:\"btn btn-outline-light btn-sm\",children:\"Tareas\"}),/*#__PURE__*/_jsx(Link,{to:\"/admin/users\",className:\"btn btn-outline-light btn-sm\",children:\"Usuarios\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn btn-outline-light btn-sm\",children:\"Registrar Usuario\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-danger btn-sm d-flex align-items-center gap-1\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(FaSignOutAlt,{}),\"Salir\"]})]})})]})});};export default NavbarAdmin;","map":{"version":3,"names":["useState","useEffect","FaSignOutAlt","FaUserCircle","useAuth","useNavigate","Link","Swal","jsx","_jsx","jsxs","_jsxs","src","integrity","crossorigin","NavbarAdmin","token","logout","username","setUsername","navigate","fetch","headers","Authorization","then","res","json","data","catch","fire","handleLogout","title","icon","showCancelButton","confirmButtonText","cancelButtonText","result","isConfirmed","className","children","size","type","id","to","onClick"],"sources":["C:/Users/dev1_/OneDrive/Desktop/Tareas/frontend/src/components/NavbarAdmin.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { FaSignOutAlt, FaUserCircle } from \"react-icons/fa\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport \"../styles/NavbarAdmin.css\";\r\n<script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\" integrity=\"sha384-...\" crossorigin=\"anonymous\"></script>\r\n\r\n\r\nconst NavbarAdmin = () => {\r\n  const { token, logout } = useAuth();\r\n  const [username, setUsername] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    fetch(\"http://localhost:5001/auth/user\", {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => setUsername(data.username))\r\n      .catch(() => Swal.fire(\"Error\", \"No se pudo obtener el usuario\", \"error\"));\r\n  }, [token, navigate]);\r\n\r\n  const handleLogout = () => {\r\n    Swal.fire({\r\n      title: \"¿Cerrar sesión?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Sí, salir\",\r\n      cancelButtonText: \"Cancelar\",\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        logout();\r\n        navigate(\"/login\");\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-admin mb-4\">\r\n      <div className=\"container-fluid\">\r\n        <div className=\"d-flex align-items-center text-white gap-2\">\r\n          <FaUserCircle size={24} />\r\n          <strong className=\"username\">Hola, {username}</strong>\r\n        </div>\r\n\r\n        {/* Botón hamburguesa */}\r\n        <button\r\n          className=\"navbar-toggler text-white border-white\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarAdminCollapse\"\r\n          aria-controls=\"navbarAdminCollapse\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n\r\n        <div className=\"collapse navbar-collapse justify-content-end\" id=\"navbarAdminCollapse\">\r\n          <div className=\"d-flex flex-column flex-lg-row gap-2 mt-3 mt-lg-0\">\r\n            <Link to=\"/admin/tareas\" className=\"btn btn-outline-light btn-sm\">Tareas</Link>\r\n            <Link to=\"/admin/users\" className=\"btn btn-outline-light btn-sm\">Usuarios</Link>\r\n            <Link to=\"/register\" className=\"btn btn-outline-light btn-sm\">Registrar Usuario</Link>\r\n            <button\r\n              className=\"btn btn-danger btn-sm d-flex align-items-center gap-1\"\r\n              onClick={handleLogout}\r\n            >\r\n              <FaSignOutAlt />\r\n              Salir\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavbarAdmin;\r\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,YAAY,CAAEC,YAAY,KAAQ,gBAAgB,CAC3D,OAASC,OAAO,KAAQ,wBAAwB,CAChD,OAASC,WAAW,CAAEC,IAAI,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,IAAI,KAAM,aAAa,CAC9B,MAAO,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACnC,aAAAF,IAAA,WAAQG,GAAG,CAAC,8EAA8E,CAACC,SAAS,CAAC,YAAY,CAACC,WAAW,CAAC,WAAW,CAAS,CAAC,CAGnJ,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAEC,KAAK,CAAEC,MAAO,CAAC,CAAGb,OAAO,CAAC,CAAC,CACnC,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAoB,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9BJ,SAAS,CAAC,IAAM,CACd,GAAI,CAACe,KAAK,CAAE,CACVI,QAAQ,CAAC,QAAQ,CAAC,CAClB,OACF,CAEAC,KAAK,CAAC,iCAAiC,CAAE,CACvCC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUP,KAAK,EAAG,CAC9C,CAAC,CAAC,CACCQ,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,EAAKR,WAAW,CAACQ,IAAI,CAACT,QAAQ,CAAC,CAAC,CAC1CU,KAAK,CAAC,IAAMrB,IAAI,CAACsB,IAAI,CAAC,OAAO,CAAE,+BAA+B,CAAE,OAAO,CAAC,CAAC,CAC9E,CAAC,CAAE,CAACb,KAAK,CAAEI,QAAQ,CAAC,CAAC,CAErB,KAAM,CAAAU,YAAY,CAAGA,CAAA,GAAM,CACzBvB,IAAI,CAACsB,IAAI,CAAC,CACRE,KAAK,CAAE,iBAAiB,CACxBC,IAAI,CAAE,SAAS,CACfC,gBAAgB,CAAE,IAAI,CACtBC,iBAAiB,CAAE,WAAW,CAC9BC,gBAAgB,CAAE,UACpB,CAAC,CAAC,CAACX,IAAI,CAAEY,MAAM,EAAK,CAClB,GAAIA,MAAM,CAACC,WAAW,CAAE,CACtBpB,MAAM,CAAC,CAAC,CACRG,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CAAC,CAAC,CACJ,CAAC,CAED,mBACEX,IAAA,QAAK6B,SAAS,CAAC,2CAA2C,CAAAC,QAAA,cACxD5B,KAAA,QAAK2B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B5B,KAAA,QAAK2B,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzD9B,IAAA,CAACN,YAAY,EAACqC,IAAI,CAAE,EAAG,CAAE,CAAC,cAC1B7B,KAAA,WAAQ2B,SAAS,CAAC,UAAU,CAAAC,QAAA,EAAC,QAAM,CAACrB,QAAQ,EAAS,CAAC,EACnD,CAAC,cAGNT,IAAA,WACE6B,SAAS,CAAC,wCAAwC,CAClDG,IAAI,CAAC,QAAQ,CACb,iBAAe,UAAU,CACzB,iBAAe,sBAAsB,CACrC,gBAAc,qBAAqB,CACnC,gBAAc,OAAO,CACrB,aAAW,mBAAmB,CAAAF,QAAA,cAE9B9B,IAAA,SAAM6B,SAAS,CAAC,qBAAqB,CAAO,CAAC,CACvC,CAAC,cAET7B,IAAA,QAAK6B,SAAS,CAAC,8CAA8C,CAACI,EAAE,CAAC,qBAAqB,CAAAH,QAAA,cACpF5B,KAAA,QAAK2B,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChE9B,IAAA,CAACH,IAAI,EAACqC,EAAE,CAAC,eAAe,CAACL,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,cAC/E9B,IAAA,CAACH,IAAI,EAACqC,EAAE,CAAC,cAAc,CAACL,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,UAAQ,CAAM,CAAC,cAChF9B,IAAA,CAACH,IAAI,EAACqC,EAAE,CAAC,WAAW,CAACL,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,mBAAiB,CAAM,CAAC,cACtF5B,KAAA,WACE2B,SAAS,CAAC,uDAAuD,CACjEM,OAAO,CAAEd,YAAa,CAAAS,QAAA,eAEtB9B,IAAA,CAACP,YAAY,GAAE,CAAC,QAElB,EAAQ,CAAC,EACN,CAAC,CACH,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAa,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}