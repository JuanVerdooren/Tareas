{"ast":null,"code":"import\"../styles/TaskList.css\";import React,{useState}from\"react\";import{FaEdit,FaTrash}from\"react-icons/fa\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TaskList=_ref=>{let{tasks,handleEdit,handleDelete,toggleEstado,isAdmin}=_ref;const[expandedTasks,setExpandedTasks]=useState({});const toggleExpand=taskId=>{setExpandedTasks(prev=>({...prev,[taskId]:!prev[taskId]}));};return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:tasks.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-muted py-5\",children:\"No hay tareas registradas\"}):tasks.map(task=>{const isExpanded=expandedTasks[task._id];const longDesc=task.descripcion&&task.descripcion.length>150;return/*#__PURE__*/_jsx(\"div\",{className:\"col-12 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"task-card p-4 shadow-sm scale-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-start mb-2 flex-wrap\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"task-title text-break flex-grow-1 me-2\",children:task.titulo}),/*#__PURE__*/_jsx(\"span\",{className:`badge fs-6 ${task.prioridad===\"Alta\"?\"bg-danger\":task.prioridad===\"Media\"?\"bg-warning text-dark\":\"bg-success\"}`,children:task.prioridad})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Descripci\\xF3n:\"}),\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"task-desc\",children:[isExpanded||!longDesc?task.descripcion:`${task.descripcion.slice(0,150)}... `,longDesc&&/*#__PURE__*/_jsx(\"button\",{className:\" btn btn-link btn-sm p-0 ms-1\",onClick:()=>toggleExpand(task._id),children:isExpanded?\"Ver menos\":\"Ver más\"})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fecha l\\xEDmite:\"}),\" \",task.fecha?new Date(task.fecha).toLocaleDateString():\"Sin fecha\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Categor\\xEDa:\"}),\" \",task.categoria]}),isAdmin&&task.usuario&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Asignado a:\"}),\" \",task.usuario.username,\" (\",task.usuario.email,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleEstado(task._id,task.estado),className:`btn fw-bold ${task.estado?\"btn-outline-success\":\"btn-outline-secondary\"}`,children:task.estado?\"✔ Completado\":\"⏳ Pendiente\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2\",children:isAdmin&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"icon-btn1\",onClick:()=>handleEdit(task),\"data-bs-toggle\":\"tooltip\",\"data-bs-placement\":\"top\",title:\"Editar\",children:/*#__PURE__*/_jsx(FaEdit,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"icon-btn\",onClick:()=>handleDelete(task._id),\"data-bs-toggle\":\"tooltip\",\"data-bs-placement\":\"top\",title:\"Eliminar\",children:/*#__PURE__*/_jsx(FaTrash,{})})]})})]})]})},task._id);})});};export default TaskList;","map":{"version":3,"names":["React","useState","FaEdit","FaTrash","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TaskList","_ref","tasks","handleEdit","handleDelete","toggleEstado","isAdmin","expandedTasks","setExpandedTasks","toggleExpand","taskId","prev","className","children","length","map","task","isExpanded","_id","longDesc","descripcion","titulo","prioridad","slice","onClick","fecha","Date","toLocaleDateString","categoria","usuario","username","email","estado","title"],"sources":["C:/Users/dev1_/OneDrive/Desktop/Tareas/frontend/src/components/TaskList.jsx"],"sourcesContent":["import \"../styles/TaskList.css\";\r\nimport React, { useState } from \"react\";\r\nimport { FaEdit, FaTrash } from \"react-icons/fa\";\r\n\r\nconst TaskList = ({ tasks, handleEdit, handleDelete, toggleEstado, isAdmin }) => {\r\n  const [expandedTasks, setExpandedTasks] = useState({});\r\n\r\n  const toggleExpand = (taskId) => {\r\n    setExpandedTasks((prev) => ({\r\n      ...prev,\r\n      [taskId]: !prev[taskId],\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      {tasks.length === 0 ? (\r\n        <div className=\"text-center text-muted py-5\">\r\n          No hay tareas registradas\r\n        </div>\r\n      ) : (\r\n        tasks.map((task) => {\r\n          const isExpanded = expandedTasks[task._id];\r\n          const longDesc = task.descripcion && task.descripcion.length > 150;\r\n\r\n          return (\r\n            <div className=\"col-12 mb-4\" key={task._id}>\r\n              <div className=\"task-card p-4 shadow-sm scale-in\">\r\n                <div className=\"d-flex justify-content-between align-items-start mb-2 flex-wrap\">\r\n                  <h4 className=\"task-title text-break flex-grow-1 me-2\">\r\n                    {task.titulo}\r\n                  </h4>\r\n                  <span\r\n                    className={`badge fs-6 ${\r\n                      task.prioridad === \"Alta\"\r\n                        ? \"bg-danger\"\r\n                        : task.prioridad === \"Media\"\r\n                        ? \"bg-warning text-dark\"\r\n                        : \"bg-success\"\r\n                    }`}\r\n                  >\r\n                    {task.prioridad}\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"mb-3\">\r\n                  <strong>Descripción:</strong>{\" \"}\r\n                  <span className=\"task-desc\">\r\n                    {isExpanded || !longDesc\r\n                      ? task.descripcion\r\n                      : `${task.descripcion.slice(0, 150)}... `}\r\n                    {longDesc && (\r\n                      <button\r\n                        className=\" btn btn-link btn-sm p-0 ms-1\"\r\n                        onClick={() => toggleExpand(task._id)}\r\n                      >\r\n                        {isExpanded ? \"Ver menos\" : \"Ver más\"}\r\n                      </button>\r\n                    )}\r\n                  </span>\r\n                </div>\r\n\r\n                <p className=\"text-muted mb-1\">\r\n                  <strong>Fecha límite:</strong>{\" \"}\r\n                  {task.fecha\r\n                    ? new Date(task.fecha).toLocaleDateString()\r\n                    : \"Sin fecha\"}\r\n                </p>\r\n                <p className=\"text-muted mb-1\">\r\n                  <strong>Categoría:</strong> {task.categoria}\r\n                </p>\r\n\r\n                {isAdmin && task.usuario && (\r\n                  <p className=\"text-muted mb-3\">\r\n                    <strong>Asignado a:</strong> {task.usuario.username} ({task.usuario.email})\r\n                  </p>\r\n                )}\r\n\r\n                <div className=\"d-flex justify-content-between align-items-center\">\r\n                  <button\r\n                    onClick={() => toggleEstado(task._id, task.estado)}\r\n                    className={`btn fw-bold ${\r\n                      task.estado\r\n                        ? \"btn-outline-success\"\r\n                        : \"btn-outline-secondary\"\r\n                    }`}\r\n                  >\r\n                    {task.estado ? \"✔ Completado\" : \"⏳ Pendiente\"}\r\n                  </button>\r\n\r\n                  <div className=\"d-flex gap-2\">\r\n                    {isAdmin && (\r\n                      <>\r\n                        <button\r\n                          className=\"icon-btn1\"\r\n                          onClick={() => handleEdit(task)}\r\n                          data-bs-toggle=\"tooltip\"\r\n                          data-bs-placement=\"top\"\r\n                          title=\"Editar\"\r\n                        >\r\n                          <FaEdit />\r\n                        </button>\r\n                        <button\r\n                          className=\"icon-btn\"\r\n                          onClick={() => handleDelete(task._id)}\r\n                          data-bs-toggle=\"tooltip\"\r\n                          data-bs-placement=\"top\"\r\n                          title=\"Eliminar\"\r\n                        >\r\n                          <FaTrash />\r\n                        </button>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}